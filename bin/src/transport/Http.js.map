{"version":3,"file":"Http.js","sourceRoot":"","sources":["../../../src/transport/Http.ts"],"names":[],"mappings":";;;;;AAAA,kDAAkD;AAClD,2CAAwD;AAExD,MAAa,IAAI;IAIf,YAAY,MAA0B;QACpC,IAAI,CAAC,IAAI,GAAG,yBAAa,CAAC,IAAI,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;IAC9B,CAAC;IAEM,KAAK,CAAC,OAAO;QAClB,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,MAAM,eAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACzD,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;SACzB;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,CAAC,CAAC,QAAQ,EAAE;gBACd,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;aACjF;YACD,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;SAC7C;IACH,CAAC;IAEM,UAAU;QACf,yBAAY,IAAI,CAAC,aAAa,EAAG;IACnC,CAAC;CACF;AAxBD,oBAwBC","sourcesContent":["import axios, { AxiosRequestConfig } from 'axios';\nimport { ITransport, TransportType } from './Transport';\n\nexport class Http implements ITransport {\n  public type: TransportType.HTTP;\n  private readonly requestParams: AxiosRequestConfig;\n\n  constructor(config: AxiosRequestConfig) {\n    this.type = TransportType.HTTP;\n    this.requestParams = config;\n  }\n\n  public async publish(): Promise<any> {\n    try {\n      const { data, status } = await axios(this.requestParams);\n      return { data, status };\n    } catch (e) {\n      if (e.response) {\n        return { message: e.message, data: e.response.data, status: e.response.status };\n      }\n      return { message: e.message, code: e.code };\n    }\n  }\n\n  public getConfigs(): AxiosRequestConfig {\n    return { ...this.requestParams };\n  }\n}\n"]}