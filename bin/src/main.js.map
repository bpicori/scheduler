{"version":3,"file":"main.js","sourceRoot":"","sources":["../../src/main.ts"],"names":[],"mappings":";;;;;AAAA,wEAAgD;AAChD,iDAA4C;AAC5C,+DAA0D;AAE1D;;GAEG;AACH,KAAK,UAAU,IAAI;IAEjB,MAAM,KAAK,GAAG,IAAI,mCAAgB,CAAC;QACjC,MAAM,EAAE,WAAW;QACnB,QAAQ,EAAE,2BAA2B;KACtC,CAAC,CAAC;IACH,MAAM,SAAS,GAAG,IAAI,sBAAY,CAAC,KAAK,CAAC,CAAC;IAC1C,MAAM,MAAM,GAAG,IAAI,eAAM,CAAC,SAAS,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;IACtD,MAAM,SAAS,CAAC,IAAI,EAAE,CAAC;IACvB,MAAM,SAAS,CAAC,KAAK,EAAE,CAAC;IACxB,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC;IACrB,iDAAiD;IACjD,sGAAsG;IACtG,sHAAsH;IACtH,6BAA6B;IAC7B,8BAA8B;AAEhC,CAAC;AAED,IAAI,EAAE,CAAC","sourcesContent":["import EventManager from './event/EventManager';\nimport {Server} from './http-server/Server';\nimport {StoreEventsMongo} from './store/StoreEventsMongo';\n\n/**\n * Created by bpicori on 19-02-05\n */\nasync function main() {\n\n  const store = new StoreEventsMongo({\n    dbName: 'scheduler',\n    mongoUrl: 'mongodb://localhost:27017',\n  });\n  const scheduler = new EventManager(store);\n  const server = new Server('0.0.0.0', 3000, scheduler);\n  await scheduler.sync();\n  await scheduler.start();\n  await server.start();\n  // const now = Math.round(Date.now() / 1000) + 5;\n  // const event = new Event('event Bpicori', now, true, 3, new Http({ url: 'http://localhost:3000' }));\n  // // const event2 = new Event({ name: 'event1', timestamp: now, repeat: false, interval: 3, transport: new Http() });\n  // scheduler.addEvent(event);\n  // scheduler.addEvent(event2);\n\n}\n\nmain();\n"]}